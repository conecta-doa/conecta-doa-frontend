<div class="donation-notifications-page">

  <!-- HEADER -->
  <header class="header">
    <div class="header-inner">
      <div class="header-left">
        <div class="logo-group">
          <svg class="logo-icon" width="28" height="28" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg">
            <rect x="2" y="6" width="12" height="4" rx="2" fill="#e63946" />
            <rect x="2" y="14" width="12" height="4" rx="2" fill="#e63946" />
            <rect x="14" y="10" width="12" height="4" rx="2" fill="#e63946" />
          </svg>
          <span class="logo-name">ConectaDoa</span>
        </div>
      </div>

      <div class="header-right">
        <button class="notification-button" aria-label="Notificações">
          <svg viewBox="0 0 24 24" width="22" height="22" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.3-2-6-5-6V4a1 1 0 10-2 0v1c-3 0-5 2.7-5 6v5l-2 2v1h16v-1l-2-2z"
              fill="#444" />
          </svg>
          <span class="notification-dot"></span>
        </button>

        <div class="profile-avatar">
          <img
            src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='40' height='40'><rect rx='40' width='40' height='40' fill='%23f3f4f6'/><circle cx='20' cy='14' r='7' fill='%239ca3af'/><rect x='6' y='26' width='28' height='8' rx='4' fill='%239ca3af'/></svg>"
            alt="Perfil" />
        </div>
      </div>
    </div>
  </header>

  <!-- CONTEÚDO -->
  <main class="notifications-page">

    <header class="page-header">
      <h1 class="notifications-title">Notificações de Doação</h1>

      <div class="button-header">
        <button class="btn-acao" (click)="acao1()">Marcar todas como lidas</button>
        <button class="btn-acao cinza" (click)="acao2()">Limpar notificações</button>
      </div>
    </header>

    
    <div class="notifications-list" *ngIf="notifications.length > 0; else emptyState">
      <div *ngFor="let n of notifications" class="notification-item"
        [ngClass]="{ 'unread': n.isUnread, 'confirmed': n.isConfirmed }">

        <div class="notification-content">
          <span class="status-dot" [ngClass]="{ 'dot-unread': n.isUnread, 'dot-confirmed': n.isConfirmed }"></span>

          <div class="notification-details">
            <p class="notification-text">
              Você recebeu uma doação de {{ n.amount }} de {{ n.donor }}
            </p>
            <span class="notification-time">{{ n.time }}</span>
          </div>
        </div>

        <button class="confirm-button" (click)="openModal(n)">Confirmar Recebimento</button>
      </div>
    </div>

    <ng-template #emptyState>
      <div class="empty-notifications">
        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="#ccc" viewBox="0 0 24 24">
          <path
            d="M18 16v-5a6 6 0 10-12 0v5l-2 2v1h16v-1l-2-2zm-6 6a2 2 0 002-2h-4a2 2 0 002 2z" />
        </svg>
        <p>Você não tem nenhuma notificação nova.</p>
      </div>
    </ng-template>

  </main>
</div>
